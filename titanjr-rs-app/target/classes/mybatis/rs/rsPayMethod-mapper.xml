<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.fangcang.titanjr.rs.dao.RSPayMethodDao">

    <resultMap id="payMethodMap" type="com.fangcang.titanjr.rs.entity.TitanPayMethod">
        <result column="id" property="id"/>
        <result column="NAME" property="name"/>
        <result column="gatewayurl" property="gatewayURL"/>
        <result column="checkkey" property="checkKey"/>
        <result column="titanjrcheckkey" property="titanjrCheckKey"/>
        <result column="creator" property="creator"/>
        <result column="createTime" property="createTime"/>
        <collection property="payMethodConfigList" ofType="com.fangcang.titanjr.rs.entity.TitanPayMethodConfig">
            <result column="userid" property="userId"/>
            <result column="pageurl" property="pageUrl"/>
            <result column="notifyurl" property="notifyUrl"/>
            <result column="co1" property="creator"/>
            <result column="ct1" property="createTime"/>
        </collection>
    </resultMap>

    <select id="queryAllTitanPayMethod" resultMap="payMethodMap">
		SELECT
			p.id,
			p. NAME,
			p.gatewayurl,
			p.checkkey,
			p.titanjrcheckkey,
			p.creator,
			p.createTime,
			c.userid,
			c.pageurl,
			c.notifyurl,
			c.creator co1,
			c.createTime ct1
		FROM
			t_tfs_paymethod p
		LEFT JOIN t_tfs_paymethodconfig c
			ON p.id = c.paymethodid
    </select>

</mapper>
