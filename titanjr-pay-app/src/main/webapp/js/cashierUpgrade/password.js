function sixDigitPassword(t){this.initialize.apply(this,arguments)}var Methods={$:function(t,e){var s,i,n,a=[],o=t.substring(1);if(e=e||document,"string"==typeof t)switch(t.charAt(0)){case"#":return document.getElementById(o);case".":if(e.getElementsByClassName)return e.getElementsByClassName(o);for(s=Methods.$("*",e),i=s.length,n=0;n<i;n++)s[n].className.indexOf(o)>-1&&a.push(s[n]);return a;default:return e.getElementsByTagName(t)}},on:function(t,e,s){t&&(t.addEventListener?t.addEventListener(e,s,!1):t.attachEvent("on"+e,s))},getClassNames:function(t,e){if(document.getElementsByClassName)return document.getElementsByClassName(t);var s=document.getElementsByTagName(e),n=[];for(i=0;i<s.length;i++)hasClass(t,s[i])&&n.push(s[i]);return n},getTarget:function(t){return t.target||t.srcElement},stopPropagation:function(t){t=t||window.event,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},addClass:function(t,e){e&&(e.className=this.hasClass(t,e)?e.className:e.className+" "+t,e.className=this.trim(e.className))},removeClass:function(t,e){var s=new RegExp("(^|\\s+)"+t+"(\\s+|$)","g");this.hasClass(t,e)&&(e.className=s.test(e.className)?e.className.replace(s,""):e.className)},hasClass:function(t,e){return!(!e||!e.className||""==e.className)&&e.className.indexOf(t)>-1},trim:function(t){return t.replace(/^\s+|\s+$/g,"")},getDefaultStyle:function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,!1)[e]},_stopIt:function(t){var e=this.getTarget(t);if("INPUT"!=e.nodeName&&"TEXTAREA"!=e.nodeName)return t.returnValue&&(t.returnValue=!1),t.preventDefault&&t.preventDefault(),!1}};Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length>>>0,s=Number(arguments[1])||0;for(s=s<0?Math.ceil(s):Math.floor(s),s<0&&(s+=e);s<e;s++)if(s in this&&this[s]===t)return s;return-1}),sixDigitPassword.prototype={initialize:function(t){this.activeIdex=0,this.str=[],this.box=Methods.$("#"+t),this.inps=[],this.span=[],this.width=null,this.clickFocus(this.box),Methods.getClassNames("sixDigitPassword","div")[0]&&Methods.getClassNames("sixDigitPassword","div")[0].click(),document!=window.parent.document&&this.keyPress1(),this.keyPress()},reset:function(){this.str=[];for(var t=this,e=this.activeIdex,s=0;s<e;s++)t.activeIdex--,console.log(this.activeIdex),t.activeD()},clickFocus:function(t){var e=this;Methods.on(t,"click",function(t){if(e.box=this,0!=Methods.getClassNames("active","i").length){var s=Methods.getClassNames("active","i")[0];Methods.removeClass("active",s);var i=s.parentNode;i.getElementsByTagName("span")[0].style.visibility="hidden"}for(var n=Methods.getClassNames("sixDigitPassword","div"),a=0;a<n.length;a++)n[a].getAttribute("f")&&(n[a].removeAttribute("f"),n[a].getElementsByTagName("span")[0].style.visibility="hidden");this.setAttribute("f","true"),e.inps=Methods.$("i",this),e.width=parseInt(Methods.getDefaultStyle(e.inps[0],"width"))+1,e.span=Methods.$("span",this)[0],Methods.addClass("active",e.inps[e.activeIdex]),e.span.style.visibility="inherit",e.span.style.left=e.width*e.activeIdex,Methods.stopPropagation(t)}),Methods.on(document,"click",function(t){for(var s=Methods.getClassNames("sixDigitPassword","div"),i=0;i<s.length;i++)s[i].getAttribute("f")&&s[i].removeAttribute("f");if(""!=e.inps.length){e.span.style.visibility="hidden";for(var n=(Methods.getTarget(t),0);n<e.inps.length;)Methods.removeClass("active",e.inps[n]),n++}})},keyPress:function(){var t=this;Methods.on(document,"keypress",function(e){var e=e||window.event;if(13==e.keyCode||8==e.keyCode||32==e.keyCode)return!1;for(var s=0,i=!1;s<t.inps.length;)Methods.hasClass("active",t.inps[s])&&(i=!0),s++;if(1==i){var n=String.fromCharCode(e.charCode);t.activeIdex<t.inps.length&&(t.str.push(n),t.activeIdex++,t.active())}}),Methods.on(document,"keydown",function(e){var e=e||window.event;if(8==e.keyCode){for(var s=0,i=!1;s<t.inps.length;)Methods.hasClass("active",t.inps[s])&&(i=!0),s++;if(1==i||t.box.getAttribute("f"))return t.activeIdex>0&&(t.str.pop(),t.activeIdex--,t.activeD()),Methods._stopIt(e)}else if(9==e.keyCode)return Methods._stopIt(e)})},keyPress1:function(){var t=this;Methods.on(window.parent.document,"keypress",function(e){var e=e||window.event;if(13==e.keyCode||8==e.keyCode)return!1;for(var s=0,i=!1;s<t.inps.length;)Methods.hasClass("active",t.inps[s])&&(i=!0),s++;if(1==i){var n=String.fromCharCode(e.charCode);t.activeIdex<t.inps.length&&(t.str.push(n),t.activeIdex++,t.active())}}),Methods.on(window.parent.document,"keydown",function(e){var e=e||window.event;if(8==e.keyCode){for(var s=0,i=!1;s<t.inps.length;)Methods.hasClass("active",t.inps[s])&&(i=!0),s++;if(1==i||t.box.getAttribute("f"))return t.activeIdex>0&&(t.str.pop(),t.activeIdex--,t.activeD()),Methods._stopIt(e)}else if(9==e.keyCode)return Methods._stopIt(e)})},active:function(){for(var t=0,e=this.activeIdex;t<this.inps.length;)Methods.removeClass("active",this.inps[t]),t++;Methods.addClass("active",this.inps[e]),this.inps[e-1].childNodes[0].style.visibility="inherit",this.activeIdex==this.inps.length?this.span.style.left=this.width*(this.activeIdex-1)+"px":this.span.style.left=this.width*this.activeIdex+"px"},activeD:function(){for(var t=0,e=this.activeIdex;t<this.inps.length;)Methods.removeClass("active",this.inps[t]),t++;Methods.addClass("active",this.inps[e]),this.inps[e].childNodes[0].style.visibility="hidden",this.span.style.left=this.width*this.activeIdex+"px"},returnStr:function(){return this.str.join("")}};