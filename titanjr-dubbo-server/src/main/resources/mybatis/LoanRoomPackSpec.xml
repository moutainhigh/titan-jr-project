<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.fangcang.titanjr.dao.LoanRoomPackSpecDao">


    <resultMap id="loanRoomPackSpec" type="com.fangcang.titanjr.entity.LoanRoomPackSpec">
        <result property="id" column="id"/>
        <result property="orderNo" column="orderno"/>
        <result property="hotelName" column="hotelname"/>
        <result property="beginDate" column="begindate"/>
        <result property="endDate" column="enddate"/>
        <result property="roomNights" column="roomnights"/>
        <result property="accountName" column="accountname"/>
        <result property="account" column="account"/>
        <result property="bank" column="bank"/>
        <result property="contractUrl" column="contracturl"/>
    </resultMap>


    <select id="queryLoanRoomPackSpec" resultMap="loanRoomPackSpec"
            parameterType="com.fangcang.titanjr.entity.LoanRoomPackSpec">
        select `id`, `orderno`, `hotelname`, `begindate`, `enddate`, `roomnights`, `accountname`, `account`, `bank`,
        `contracturl`
        FROM t_loan_roompackspec
        <where>
            <if test="orderNo !=null">
                and orderno = #{orderNo}
            </if>
        </where>

    </select>

    <update id="updateLoanRoomPackSpec" parameterType="com.fangcang.titanjr.entity.LoanRoomPackSpec">
        update t_loan_roompackspec
        <set>
            <if test="hotelName != null">hotelname= #{hotelName},</if>
            <if test="beginDate != null">begindate= #{beginDate},</if>
            <if test="endDate != null">enddate= #{endDate},</if>
            <if test="roomNights != null">roomnights= #{roomNights},</if>
            <if test="accountName != null">accountname= #{accountName},</if>
            <if test="account != null">account= #{account},</if>
            <if test="bank != null">bank= #{bank},</if>
            <if test="contractUrl != null">contracturl= #{contractUrl},</if>
        </set>
        <where>
            orderno = #{orderNo} <!--orderNo一定不为空-->
        </where>
    </update>

    <insert id="insertLoanRoomPackSpec" parameterType="com.fangcang.titanjr.entity.LoanRoomPackSpec">
	  INSERT INTO `t_loan_roompackspec` ( `orderno`, 
	  `hotelname`, `begindate`, `enddate`, `roomnights`,
	  `accountname`, `account`, `bank`, `contracturl`
     )
     VALUES
     	(
     		#{orderNo},
     		#{hotelName},
     		#{beginDate},
     		#{endDate},
     		#{roomNights},
     		#{accountName},
     		#{account},
     		#{bank},
     		#{contractUrl}
     	)
    </insert>

</mapper>